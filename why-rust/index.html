<!DOCTYPE html>
    <html lang="en">

    

    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>Why Rust in Production? | corrode Rust Consulting</title>
        <meta name="author" content="Corrode Rust Consulting">
        <meta name="description" content="Interest in Rust has surged in recent years, with tech leaders such as
Microsoft, Google, and Amazon coming forward to share their experiences of
leveraging Rust for critical systems.
Much of t…">

        <!-- Open Graph tags -->
        <meta property="og:title" content="Why Rust in Production? | corrode Rust Consulting">
        <meta property="og:description" content="Interest in Rust has surged in recent years, with tech leaders such as
Microsoft, Google, and Amazon coming forward to share their experiences of
leveraging Rust for critical systems.
Much of t…">
        <meta property="og:image" content="https://corrode.dev/social/rendered/why-rust.png">
        <meta property="og:url" content="https://corrode.dev/why-rust/">
        <meta property="og:site_name" content="Corrode Rust Consulting">
        <meta property="og:type" content="website">

        <!-- Twitter Card tags -->
        <meta name="twitter:card" content="summary_large_image">
        <meta name="twitter:title" content="Why Rust in Production? | corrode Rust Consulting">
        <meta name="twitter:description" content="Interest in Rust has surged in recent years, with tech leaders such as
Microsoft, Google, and Amazon coming forward to share their experiences of
leveraging Rust for critical systems.
Much of t…">
        <meta name="twitter:image" content="https://corrode.dev/social/rendered/why-rust.png">

        <link rel="stylesheet" type="text/css" href="/syntax-theme-dark-custom.css" media="(prefers-color-scheme: dark)" />
        <link rel="stylesheet" type="text/css" href="/syntax-theme-light-custom.css" media="(prefers-color-scheme: light)" />
        <link rel="stylesheet" href="https://corrode.dev/style.css" />

        <link rel="me" href="https://mastodon.social/@mre">
        <link rel="alternate" type="application/rss+xml" title="Corrode RSS feed" href="/rss.xml">

        <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700&display=swap" rel="stylesheet">
        <link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&display=swap" rel="stylesheet">
        <script type="module" src="https://oxitraffic-corrode-dev.mo8it.com/count.js"></script>

        <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
        <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
        <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
        <link rel="manifest" href="/site.webmanifest">
        <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
        <meta name="msapplication-TileColor" content="#da532c">
        <meta name="theme-color" content="#ffffff">
    </head>

    <body>
        <div class="app">
            <nav>
                <!-- Logo and Home Link -->
                <div>
                    <a  class="nav-item" 
                        href="https://corrode.dev/">
                        <span class="logo">
                            
                            <svg xmlns="http://www.w3.org/2000/svg" width="200px" height="85px" viewBox="0 0 200 85.5">
   <g font-size="37.1">
      <path d="M18.27 36.27c-4.75 0-8.5 1.37-11.25 4.12-2.83 2.84-4.25 6.46-4.25 10.85 0 4.25 1.33 7.76 3.99 10.5 2.61 2.75 6.16 4.13 10.64 4.13 3.2 0 5.94-.68 8.23-2.04-1-1.32-2.27-3.36-2.9-4.86l.01-.06c-1.45.73-3.08 1.1-4.88 1.1a8.3 8.3 0 0 1-5.91-2.26c-1.69-1.68-2.53-3.92-2.53-6.71 0-2.7.8-4.86 2.4-6.46A8.39 8.39 0 0 1 18 42.12c1.63 0 3.18.36 4.63 1.08v.03c.62-1.43 2.1-3.83 3.07-5.07a15.49 15.49 0 0 0-7.44-1.89z" class="logo-text"/>
      <path d="M38.5 106q4.32-4.19 10.7-4.19 6.4 0 10.6 4.2 4.32 4.11 4.32 10.6 0 6.38-4.32 10.6-4.26 4.19-10.6 4.19-6.39 0-10.7-4.2-4.26-4.25-4.26-10.6 0-6.46 4.26-10.6zm4.65 17.2q2.27 2.4 6.06 2.4t6.05-2.4q2.26-2.46 2.26-6.52 0-4.45-2.46-6.72-2.4-2.26-5.85-2.26-3.46 0-5.92 2.26-2.4 2.27-2.4 6.72 0 4.06 2.26 6.52z" class="logo-text" style="-inkscape-stroke:none" transform="translate(-6.43 -65.1)"/>
      <path d="M76.81 36.27c-13.65.1-13.62 8.04-13.24 28.73h6.52V50.5c0-3.01.6-5.16 1.8-6.45a5.35 5.35 0 0 1 4.05-1.53c.81 0 1.6.17 2.37.5l3.6-5.43a9.92 9.92 0 0 0-5.1-1.32z" class="logo-text"/>
      <path d="M111 106q4.32-4.19 10.7-4.19t10.6 4.2q4.33 4.11 4.33 10.6 0 6.38-4.33 10.6-4.25 4.19-10.6 4.19t-10.7-4.2q-4.27-4.25-4.27-10.6 0-6.46 4.26-10.6zm4.66 17.2q2.26 2.4 6.05 2.4 3.8 0 6.05-2.4 2.26-2.46 2.26-6.52 0-4.45-2.46-6.72-2.4-2.26-5.85-2.26-3.46 0-5.92 2.26-2.4 2.27-2.4 6.72 0 4.06 2.27 6.52z" class="logo-text" style="-inkscape-stroke:none" transform="translate(-6.43 -65.1)"/>
      <path d="M94.57 35.9c-13.6.1-13.6 8.04-13.2 28.7h6.52V50.1c0-3.01.6-5.16 1.8-6.45a5.35 5.35 0 0 1 4.05-1.53c.81 0 1.6.17 2.37.5l3.6-5.43a9.92 9.92 0 0 0-5.1-1.32z" class="logo-text"/>
   </g>
   <path d="M185.57 35.9c-4.75 0-8.5 1.37-11.2 4.12-2.84 2.84-4.26 6.46-4.26 10.8 0 4.25 1.33 7.76 4 10.5 2.61 2.75 6.15 4.13 10.6 4.13 3.2 0 5.94-.68 8.23-2.04a19.4 19.4 0 0 1-2.42-4.23l-.46-.7a10.6 10.6 0 0 1-4.88 1.1 8.3 8.3 0 0 1-5.92-2.25 8.3 8.3 0 0 1-2.24-4.06l19.7-2.83-.04-.2c.05-.04.1-.08.14-.14.91-11-7.55-14.2-11.2-14.2zm-.27 5.85c1.64 0 4.65.67 6.33 4.33l.13.33-14.8 2.14a8.05 8.05 0 0 1 2.21-4.34 8.39 8.39 0 0 1 6.18-2.46z" class="logo-text"/>
   <path d="M165 83v20.6a14.9 14.9 0 0 0-8.32-2.32c-4.25 0-7.82 1.4-10.7 4.2-2.84 2.74-4.26 6.27-4.26 10.6 0 4.25 1.42 7.8 4.25 10.6a14.8 14.8 0 0 0 10.7 4.19c4.26 0 7.8-1.4 10.6-4.2a14.3 14.3 0 0 0 4.33-10.6v-33.1zm-8.32 24.2c2.3 0 4.26.76 5.86 2.26 1.64 1.51 2.46 3.75 2.46 6.72 0 2.7-.76 4.88-2.27 6.52-1.5 1.6-3.52 2.4-6.05 2.4s-4.54-.8-6.05-2.4c-1.5-1.64-2.26-3.81-2.26-6.52 0-2.97.8-5.2 2.4-6.72a8.44 8.44 0 0 1 5.91-2.26z" class="logo-text" font-size="37.1" style="-inkscape-stroke:none" transform="translate(-6.43 -65.1)"/>
</svg>
                        </span>
                    </a>
                </div>

                <input id="menu-toggle" type="checkbox" />
                <label class="menu-button-container" for="menu-toggle">
                    <div class="menu-button"></div>
                </label>
            
                <!-- Menu Items -->
                <ul class="menu">
                    <li>
                        <!-- Theme Toggle -->
                        <a href="javascript:toggleColorScheme();">
                            <span id="icon-moon">
                                
                                <?xml version="1.0" encoding="utf-8"?><!-- Uploaded to: SVG Repo, www.svgrepo.com, Generator: SVG Repo Mixer Tools -->
<svg width="24px" height="24px" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M12 22C17.5228 22 22 17.5228 22 12C22 11.5373 21.3065 11.4608 21.0672 11.8568C19.9289 13.7406 17.8615 15 15.5 15C11.9101 15 9 12.0899 9 8.5C9 6.13845 10.2594 4.07105 12.1432 2.93276C12.5392 2.69347 12.4627 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z" fill="white"/>
</svg>
                            </span>
                            <span id="icon-sun">
                                
                                <?xml version="1.0" encoding="utf-8"?><!-- Uploaded to: SVG Repo, www.svgrepo.com, Generator: SVG Repo Mixer Tools -->
<svg width="24px" height="24px" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M17 12C17 14.7614 14.7614 17 12 17C9.23858 17 7 14.7614 7 12C7 9.23858 9.23858 7 12 7C14.7614 7 17 9.23858 17 12Z" fill="black"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M12 1.25C12.4142 1.25 12.75 1.58579 12.75 2V4C12.75 4.41421 12.4142 4.75 12 4.75C11.5858 4.75 11.25 4.41421 11.25 4V2C11.25 1.58579 11.5858 1.25 12 1.25ZM3.66865 3.71609C3.94815 3.41039 4.42255 3.38915 4.72825 3.66865L6.95026 5.70024C7.25596 5.97974 7.2772 6.45413 6.9977 6.75983C6.7182 7.06553 6.2438 7.08677 5.9381 6.80727L3.71609 4.77569C3.41039 4.49619 3.38915 4.02179 3.66865 3.71609ZM20.3314 3.71609C20.6109 4.02179 20.5896 4.49619 20.2839 4.77569L18.0619 6.80727C17.7562 7.08677 17.2818 7.06553 17.0023 6.75983C16.7228 6.45413 16.744 5.97974 17.0497 5.70024L19.2718 3.66865C19.5775 3.38915 20.0518 3.41039 20.3314 3.71609ZM1.25 12C1.25 11.5858 1.58579 11.25 2 11.25H4C4.41421 11.25 4.75 11.5858 4.75 12C4.75 12.4142 4.41421 12.75 4 12.75H2C1.58579 12.75 1.25 12.4142 1.25 12ZM19.25 12C19.25 11.5858 19.5858 11.25 20 11.25H22C22.4142 11.25 22.75 11.5858 22.75 12C22.75 12.4142 22.4142 12.75 22 12.75H20C19.5858 12.75 19.25 12.4142 19.25 12ZM17.0255 17.0252C17.3184 16.7323 17.7933 16.7323 18.0862 17.0252L20.3082 19.2475C20.6011 19.5404 20.601 20.0153 20.3081 20.3082C20.0152 20.6011 19.5403 20.601 19.2475 20.3081L17.0255 18.0858C16.7326 17.7929 16.7326 17.3181 17.0255 17.0252ZM6.97467 17.0253C7.26756 17.3182 7.26756 17.7931 6.97467 18.086L4.75244 20.3082C4.45955 20.6011 3.98468 20.6011 3.69178 20.3082C3.39889 20.0153 3.39889 19.5404 3.69178 19.2476L5.91401 17.0253C6.2069 16.7324 6.68177 16.7324 6.97467 17.0253ZM12 19.25C12.4142 19.25 12.75 19.5858 12.75 20V22C12.75 22.4142 12.4142 22.75 12 22.75C11.5858 22.75 11.25 22.4142 11.25 22V20C11.25 19.5858 11.5858 19.25 12 19.25Z" fill="black"/>
</svg>
                            </span>
                        </a>
                    </li>
                    <li>
                        <a class="nav-item" 
                            href="https://corrode.dev/"><span>Home</span>
                        </a>
                    </li>
                    <li>
                        <a class="nav-item active" 
                            href="https://corrode.dev/why-rust">
                            <span>Why Rust?</span>
                        </a>
                    </li>
                    <li>
                        <a class="nav-item" 
                            href="https://corrode.dev/podcast">
                            <span>Podcast</span>
                        </a>
                    </li>
                    <li>
                        <a class="nav-item" 
                            href="https://corrode.dev/blog">
                            <span>Blog</span>
                        </a>
                    </li>
                    <li>
                        <a class="nav-item" 
                            href="https://corrode.dev/about">
                            <span>About</span>
                        </a>
                    </li>
                </ul>
            </nav>
            
            <main class="container">
                
  <article>
    
      <h1>Why Rust in Production?</h1>
    
    <div><img src="/why-rust/hero.svg" alt="Why Rust?">
<p>Interest in Rust has surged in recent years, with tech leaders such as
Microsoft, Google, and Amazon coming forward to share their experiences of
leveraging Rust for critical systems.</p>
<p>Much of the dialogue about Rust, however, is still driven by those who have not
leveraged Rust in a significant production capacity or have only done so for
non-critical systems. This results in a skewed understanding of Rust's
application in production settings, especially for small and medium-sized
businesses, where discussions tend to highlight performance benefits and gloss
over other crucial aspects.</p>
<p>In my role as a Rust consultant, I have had the opportunity to engage with many
companies, large and small. I found that companies value productivity,
stability, and long-term maintainability over performance.</p>
<p>This overview distills key insights, offering a resource for businesses to
assess whether Rust is the right tool for their use-case or not.</p>
<p>The intent is to provide an honest look at Rust's practicality for production
to help decision-makers understand its benefits and challenges.</p>
<div class="info">
  
  <div class="info-header">
    
      <i class="icon icon-radio"></i>
    
    <h4><p>New Podcast About Companies Using Rust in Production</p>
</h4>
  </div>
  
  <p>Discover how Rust impacts businesses through <a href="/podcast">Rust in Production</a>, a podcast featuring insights from leaders on why they chose Rust. Hear about their challenges, motivations, and key learnings from using Rust in real-world scenarios.</p>
<p><a href="/podcast">Learn more here</a>.</p>

</div>
<h2 id="reasons-for-using-rust-in-production">Reasons For Using Rust In Production</h2>
<h3 id="reliability-and-stability">Reliability and Stability</h3>
<p>From experience, the majority of companies care less about uncompromising
performance and more about <a href="https://talks.osfc.io/osfc2021/talk/JTWYEH/">reliability and
stability</a> of their services.</p>
<p>This is backed by the <a href="https://cloud.google.com/devops/state-of-devops/"><em>State of DevOps Report 2023</em></a>
by Google Cloud, which states:</p>
<blockquote>
<p><strong>Reliability unlocks performance.</strong> [...]
Strong reliability practices predict better operational performance, team
performance, and organizational performance. [...]
Being able to operate the machine effectively allows teams to achieve more,
which allows organizations to thrive. - <a href="https://cloud.google.com/devops/state-of-devops/"><em>State of DevOps Report 2023</em></a></p>
</blockquote>
<p>More predictable and stable services are easier to maintain and cheaper to
operate. Less time is spent on debugging and on-call, and more time on building
new features. Scaling services is also easier when you know how systems behave
under load. </p>
<blockquote>
<p>Given our small team size, infrastructure reliability is crucial, otherwise,
maintenance starves innovation. Rust provides us with confidence that any code
modification or refactor is likely to produce working programs that will run for
months with minimal supervision. - <a href="https://x.ai/">xAI (formerly Twitter)</a></p>
</blockquote>
<p>As another example, the npm registry migrated to Rust in 2019. (See their whitepaper
<a href="https://www.rust-lang.org/static/pdfs/Rust-npm-Whitepaper.pdf">here</a>.) As the
largest software registry in the world, it sees upwards of 1.3 billion package
downloads... <em>per day</em>. Npm is critical infrastructure for the JavaScript
ecosystem, and the stability of its services is paramount. This focus on
stability directly impacts the effectiveness and reliability of the entire
JavaScript ecosystem.</p>
<blockquote>
<p>My biggest compliment to Rust is that it's boring, and this is an amazing compliment. 
<a href="https://www.linkedin.com/in/christophersdickinson/">Chris Dickinson</a>, former Engineer at <a href="https://www.npmjs.com/about">npm, Inc</a></p>
</blockquote>
<p><a href="https://deepsource.com/blog/exponential-cost-of-fixing-bugs">Bugs cost more to fix the later they are found.</a>
Below is the relative cost of fixing bugs at various stages of the development lifecycle.
Bugs found in production are significantly more expensive to fix than bugs found
during development. (Source: NIST <a href="https://www.nist.gov/system/files/documents/director/planning/report02-3.pdf">Costs of Software Defects</a>)</p>
<img src="/why-rust/bug-costs.svg" class="invert" alt="Cost of fixing bugs over time">
<p>In a survey, <a href="https://msrc.microsoft.com/blog/2019/07/a-proactive-approach-to-more-secure-code/">Microsoft found that 70% of their bugs are due to memory safety
issues</a>.
In 2018, the number of CVEs (Common Vulnerabilities and Exposures) at Microsoft
was 468. Each CVE costs an average of $150,000 to fix, which, as Microsoft
points out, is a very conservative estimate. (Source: <a href="https://www.youtube.com/watch?v=NQBVUjdkLAA&amp;t=1s">Ryan Levick - Rust at
Microsoft</a>).
Rust couldn't have prevented all of these bugs, but it would have drastically
reduced the total amount. </p>
<p>Rust's strong type system and its borrow checker allow you to <a href="https://kerkour.com/bugs-rust-compiler-helps-prevent">catch bugs
earlier in the development lifecycle, typically at compile-time</a> (instead of
runtime as in languages with less stringent type systems or static analysis
capabilities). This results in real cost savings for companies.</p>
<blockquote>
<p>We always talk about the performance gains [...] when using Rust but honestly I
much more look for the stability gains. - <a href="https://www.youtube.com/watch?v=KTJIsicwW5s">Stefan Baumgartner, Senior Product Architect at Dynatrace</a></p>
</blockquote>
<p>As requirements grow, Rust is a great language for building larger applications
that are maintained by a bigger team over a long period of time. This is due to
its strong type system, its focus on memory safety, its powerful tooling (cargo,
rustfmt, clippy, etc.) and its stability guarantees (backwards compatibility)
due to its edition system. All of that makes large-scale refactoring easier.</p>
<blockquote>
<p>What I usually hear is that [efficiency is] what people are first excited about
but the reason that they keep using [Rust] is because actually it's better for
building more reliable systems. - <a href="https://www.youtube.com/watch?v=oGN62EEHyn8">Nicholas Matsakis, Senior Principal Engineer at AWS and lead of the Rust language design team.</a></p>
</blockquote>
<h3 id="predictable-runtime-behavior">Predictable Runtime Behavior</h3>
<p>Predictable runtime behavior is closely related to reliability and stability.
It means that services run smoothly without any hiccups. This is especially
important for latency-sensitive services like games, chat applications, or
services that need to act on real-time data.</p>
<p>Smooth operation is of uppermost importance for organizations as it is a
significant cost factor and can impact customer satisfaction. According to a 
<a href="https://www.techrepublic.com/article/on-call-cloud-operations-cost-organizations-an-average-of-2-5-million-per-year/">recent
study</a>,
organizations are spending an average of $2.5 million per year on on-call
operations. <a href="https://blog.pragmaticengineer.com/oncall-compensation/">Compensation for on-call
engineers</a> is a big
part of that cost.</p>
<blockquote>
<p>People just didn't like getting paged in the middle of the night, and Rust was
helping avoid that - <a href="https://www.youtube.com/watch?v=oGN62EEHyn8">Nicholas Matsakis</a>
(in the context of npm migrating to Rust)</p>
</blockquote>
<p>Discord has a <a href="https://discord.com/blog/why-discord-is-switching-from-go-to-rust">great
article</a>
about why they switched from Go to Rust. They mention that Go's garbage
collector was a source of unpredictable latency spikes. After switching to Rust,
they were able to fully get rid of garbage collection and have a more
predictable runtime behavior.</p>
<blockquote>
<p>When we started load testing, we were instantly pleased with the results. The
latency of the Rust version was just as good as Go’s and had no latency spikes!</p>
</blockquote>
<p>Here is a diagram from the above article by Discord.
Notice how the latency spikes in the Go version (purple) are gone in the Rust
version (blue) and how that impacts the 95th percentile response time, making it
much more predictable and smooth.</p>
<img src="/why-rust/discord.png" alt="Discord Go (purple) vs Rust (blue)">
<p>Another example is
<a href="https://blog.cloudflare.com/big-pineapple-intro/">Cloudflare</a>,
which uses Rust to power their DNS service, <a href="https://1.1.1.1/">1.1.1.1</a>. They
mention that Rust's predictable runtime behavior is a big reason for using it:</p>
<blockquote>
<p>One of the things we’ve learned with the previous implementations is that, for
a service open to the public, a peak performance of the I/O matters less than
the ability to pace clients fairly.</p>
</blockquote>
<p>Furthermore, Rust shows excellent runtime behavior when handling network requests.
In a <a href="https://medium.com/star-gazers/benchmarking-low-level-i-o-c-c-rust-golang-java-python-9a0d505f85f7">benchmark by Eugene Retunsky</a>, Rust had the lowest tail latency and maximum throughput next to C and C++. </p>
<p>Here is the diagram from the benchmark, showing the p99.9 latency for each
language under test. As the requests per second increase, the latency for Rust
stays low and stable. Go and Java on the other hand have a higher baseline
latency while Python shows latency spikes at a certain point.</p>
<img src="/why-rust/runtime.png" alt="Rust Runtime behavior">
<p>The author concludes:</p>
<blockquote>
<p>In conclusion, Rust has a much lower latency variance than Golang, Python, and especially Java. 
[...] Rust might be a better alternative to Golang, Java, or Python if predictable performance is crucial for your service. Also, before starting to write a new service in C or C++, it’s worth considering Rust. - <a href="https://medium.com/star-gazers/benchmarking-low-level-i-o-c-c-rust-golang-java-python-9a0d505f85f7">Eugene Retunsky</a></p>
</blockquote>
<h3 id="cost-savings">Cost Savings</h3>
<p>We touched on cost savings already, but its significance warrants a dedicated
section.</p>
<p>Rust has a low runtime overhead. This is especially important for services that
need to scale to handle a large number of requests.
It can save a lot of money on cloud infrastructure costs if the same workload
can be handled with fewer resources.</p>
<p>For example, AWS has a service called
<a href="https://aws.amazon.com/blogs/aws/firecracker-lightweight-virtualization-for-serverless-computing/">Firecracker</a>,
which runs virtual machines with very low overhead. It powers AWS Lambda functions and AWS Fargate containers.</p>
<blockquote>
<p>Firecracker consumes about 5 MiB of memory per microVM. You can run thousands
of secure VMs with widely varying vCPU and memory configurations on the same
instance.</p>
</blockquote>
<p>The better hardware utilization translates to lower costs for companies.</p>
<p>Firecracker allowed AWS to improve the efficiency of Fargate, which passed on
cost savings to customers. As a result, they were able to reduce the price of Fargate by
up to 50%. 
(<a href="https://shahbhargav.medium.com/firecracker-secure-and-fast-microvms-628e6043b572">Image source</a> and
<a href="https://aws.amazon.com/blogs/compute/aws-fargate-price-reduction-up-to-50/">AWS announcement</a>)</p>
<img src="/why-rust/fargate.png" alt="Firecracker" />
<h3 id="ergonomics">Ergonomics</h3>
<p>Rust has great developer ergonomics. Its expressive type system allows
developers to model their domain in a way that lets the compiler help with
writing correct code.</p>
<p>Furthermore, functional concepts like pattern matching, enums, <code>Result</code> and <code>Option</code> types
allow for concise and expressive code.</p>
<p>Rust's robust error handling story, which requires the programmer to explicitly handle
errors, is a big reason for its reliability.</p>
<p>All these features make it easier to write correct code, reduce the cognitive
load on developers and catch bugs at compile-time instead of runtime.</p>
<blockquote>
<p>More than its memory safety and thread safety guarantees, the language exposes
facilities to library designers for building abstractions that resist misuse.
The emergent safe library ecosystem enables “if it compiles, then it’s correct”
programming unmatched by other mainstream languages, even garbage collected
ones. - <a href="https://docs.rs/dtolnay/0.0.11/dtolnay/macro._03__soundness_bugs.html">David Tolnay, author of serde</a></p>
</blockquote>
<p>Rust's static analysis <a href="https://en.wikipedia.org/wiki/Shift-left_testing">shifts the quality assurance of code to the
left</a>:</p>
<img src="/why-rust/robustness.svg" class="invert" alt="Bug detection over time">
<blockquote>
<p>Rust has been a force multiplier for our team, and betting on Rust was one of
the best decisions we made. More than performance, its ergonomics and focus on
correctness has helped us tame sync’s complexity. We can encode complex
invariants about our system in the type system and have the compiler check them
for us. - <a href="https://dropbox.tech/infrastructure/rewriting-the-heart-of-our-sync-engine">Dropbox</a></p>
</blockquote>
<p>An often mentioned benefit of Rust is the possibility to refactor code without
fear. This should not be underestimated as it allows you to improve your
codebase over time and make it more robust. Especially for applications that use
multi-threading, this is a big advantage as <a href="https://blog.rust-lang.org/2015/04/10/Fearless-Concurrency.html">typical error scenarios of
concurrent programming are detected by the
compiler</a>.</p>
<h3 id="focus-on-long-term-sustainability">Focus on Long-Term Sustainability</h3>
<p>Companies rarely rewrite their services in another language. It incurs a lot of costs
and risks. Only if a rewrite promises a <em>significant</em> upside, companies will
consider it.</p>
<p>One well-known company that started to heavily invest in Rust is Microsoft.</p>
<blockquote>
<p>Microsoft is going big on Rust and spending $10 million to make it 1st class
language in our engineering systems + $1 million @rustlang foundation. - <a href="https://twitter.com/dwizzzleMSFT/status/1720134540822520268">David Weston, Vice President of OS Security and Enterprise at Microsoft</a></p>
</blockquote>
<p>Microsoft even <a href="https://twitter.com/markrussinovich/status/1656416376125538304">integrated Rust into the Windows kernel</a>.
The fact that they take big bets on Rust shows that they are in it
for the long run. This is a good sign for the Rust ecosystem, as the backing of
a large company can help Rust to become more mainstream and ensure
long-term sustainability.</p>
<p>Similarly, <a href="https://www.kernel.org/doc/html/next/rust/index.html">the Linux kernel now supports Rust</a>
as well.
The Kernel incorporating Rust is a major endorsement of the language. Notably,
the Linux Kernel maintainers have previously <a href="http://harmful.cat-v.org/software/c++/linus">refused to integrate C++ in the Kernel</a>.</p>
<p>In a landmark development for Rust, the open source <a href="https://ferrous-systems.com/blog/officially-qualified-ferrocene/">Ferrocene
toolchain</a> has
achieved a significant milestone: Ferrocene, based on Rust 1.68, is now ISO
26262 and IEC 61508 qualified. This certification means that the Rust compiler
meets rigorous safety standards, making it fully usable in safety-critical
environments like automotive or avionics. Few other languages have
achieved this level of certification. It is another strong signal that Rust is
here to stay.</p>
<p>For another take on this, watch <a href="https://www.youtube.com/watch?v=WnIWRks35Fk">&quot;In It for the Long
Haul&quot;</a> by <a href="https://twitter.com/carols10cents">Carol
Nichols</a>.</p>
<h3 id="productivity-and-developer-happiness">Productivity And Developer Happiness</h3>
<p>As mentioned in the <a href="https://www.jetbrains.com/lp/devecosystem-2021/rust/#:~:text=Rust%20developers%20are%20generally%20more,senior%20positions%20than%20other%20developers">2021 JetBrains Developer Ecosystem
Report</a>,
Rust developers are typically more proficient compared to developers in other
languages, as many have more experience and often occupy senior roles.</p>
<p>Many developers enjoy working with Rust. It is the most admired language for the
6th year in a row according to the <a href="https://survey.stackoverflow.co/2023/#section-admired-and-desired-programming-scripting-and-markup-languages">StackOverflow Developer Survey</a>.
More than 80% of developers that use it want to use it again next year.</p>
<p>For teams that are looking to hire and retain talent, Rust can be a great choice
because <a href="https://www.microsoft.com/en-us/research/publication/towards-a-theory-of-software-developer-job-satisfaction-and-perceived-productivity/">developer happiness is a big factor in job satisfaction and has a positive
impact on productivity</a>.</p>
<h3 id="performance-and-energy-efficiency">Performance And Energy Efficiency</h3>
<p>As stated earlier, performance often gets mentioned as a main reason for using Rust.
Rust also has great support for multi-threaded workloads. Libraries like
<a href="https://github.com/rayon-rs/rayon">rayon</a> and <a href="https://tokio.rs/">Tokio</a> are considered
best-in-class for writing high-performance applications.</p>
<p>Making efficient use of compute resources has much deeper implications for
companies than just raw execution speed. One important aspect is energy efficiency.</p>
<p>In the below benchmark, taken from <a href="https://greenlab.di.uminho.pt/wp-content/uploads/2017/10/sleFinal.pdf">&quot;Energy Efficiency across Programming Languages&quot;</a>
by Pereira et al., Rust has superior runtime performance on par with C and C++
and faster than Go by a factor of 2-3x as well as Python by a factor of 70x.</p>
<table><thead><tr><th>Lang</th><th>Time (Normalized)</th></tr></thead><tbody>
<tr><td>C</td><td>1.00</td></tr>
<tr><td>Rust</td><td>1.04</td></tr>
<tr><td>C++</td><td>1.56</td></tr>
<tr><td>Java</td><td>1.89</td></tr>
<tr><td>Go</td><td>2.83</td></tr>
<tr><td>JavaScript</td><td>6.52</td></tr>
<tr><td>PHP</td><td>27.64</td></tr>
<tr><td>Ruby</td><td>59.34</td></tr>
<tr><td>Python</td><td>71.90</td></tr>
</tbody></table>
<p>This translates to lower energy consumption as well. 
Energy is another important cost factor for companies at scale.</p>
<img src="/why-rust/energy-consumption.svg" class="invert" alt="Energy Efficiency across Programming Languages" />
<h2 id="gradual-adoption">Gradual Adoption</h2>
<p>One often overlooked aspect of Rust is that it can be incrementally integrated
into existing codebases. Interoperability is a key concern of Rust, allowing it
to <a href="https://users.rust-lang.org/t/tips-and-experiences-integrating-rust-into-other-projects/12091/12">natively interface with other languages like C, C++, or Python</a>.</p>
<p>This makes it possible for Rust to take on a supporting role in existing
codebases, where it can be used for security- or performance-critical parts
while the rest of the codebase remains in the original language. <a href="https://www.youtube.com/watch?v=l--5nx_q0_Y">This greatly
reduces risks as big rewrites are avoided.</a></p>
<p>Rust library code can be reused across projects from embedded programs to cloud
services, which streamlines the development process and further reduces
maintenance costs.</p>
<h2 id="reasons-against-using-rust-in-production">Reasons Against Using Rust In Production</h2>
<p>Every technology comes with its own set of challenges, and Rust is no exception.
The following points highlight some common concerns about using Rust in
production. You need to weigh them against the benefits discussed earlier to
make an informed decision for your team.</p>
<h3 id="immature-ecosystem">Immature ecosystem</h3>
<p>Rust is a relatively young language. Version 1.0 was first released in 2015.
This means that the ecosystem is still maturing. Many important libraries <a href="https://www.reddit.com/r/rust/comments/11byl6u/why_is_every_crate_pre10/">did not see their 1.0 release yet</a>.</p>
<p>This phenomenon has been <a href="https://www.reddit.com/r/rust/comments/11byl6u/why_is_every_crate_pre10/ja3auop/">brought up as a reason to be cautious when using Rust in production</a>.</p>
<p>In practice, it might be hard to find production-grade libraries for specific
needs. Your team might be required to write custom crates or improve existing
ones. Furthermore, <a href="https://github.com/sponsors/explore?ecosystem=RUST">sponsoring open source maintainers</a> to work on critical
dependencies is a good way to ensure that the long-term sustainability of the
ecosystem.</p>
<p>That said, libraries for common tasks like JSON parsing or network handling are
very robust and stable and considered best-in-class. Breaking changes are rare
and important crates like <code>serde</code> or <code>tokio</code> are already past their 1.0 release.</p>
<p>A relatively recent addition to the Rust ecosystem is async/await support, a
feature designed to streamline the writing of concurrent applications. This support
represents a significant evolution in Rust's capabilities, but it is still
in its early stages.
If you're planning to write network applications in Rust, there is a high chance
that you will need to use async/await. As such it's important to stay on top of
its ongoing development and limitations. For a detailed exploration of where
async/await in Rust stands today, including its practical implications, we
invite you to read our comprehensive post detailing the current <a href="/blog/async/">state of
async/await in Rust</a>.</p>
<h3 id="lack-of-developers">Lack Of Developers</h3>
<p>Related to the previous point, the Rust community is still relatively small.
It is hard to find developers with professional Rust experience. </p>
<p>From talking to companies that use Rust in production, I found that they are
mostly training their developers on the job.
Moreover, Rust is noted for enabling a smooth onboarding process for engineers
already proficient in languages like C++ or Java.</p>
<p>On the other hand, Rust developers are generally very passionate about their
craft and are actively seeking out jobs that allow them to use Rust,
so the market for Rust developers is growing. (Also see
the previous section about developer happiness.)</p>
<blockquote>
<p>Rust has more than tripled the size of its community over the past two years
and currently has 3.7M users, of which 0.6M joined in the last six months
alone.[...] Furthermore, Rust has built a loyal community of developers who care
about memory safety and security. - <a href="https://www.developernation.net/resources/reports/state-of-the-developer-nation-24th-edition-q1-2023">State of the Developer Nation 24th Edition - Q1 2023 report</a></p>
</blockquote>
<a href="https://www.developernation.net/resources/reports/state-of-the-developer-nation-24th-edition-q1-2023" target="_blank">
<img src="/why-rust/communities.svg" class="invert" alt="Programming Language Communities Size">
</a>
<h3 id="tooling">Tooling</h3>
<p>Cargo, rustfmt, clippy, and rust-analyzer
are all great tools that make Rust development a joy. 
Debugging support is still lacking, but it is <a href="https://rustc-dev-guide.rust-lang.org/debugging-support-in-rustc.html">steadily improving</a>.
<a href="https://www.jetbrains.com/lp/devecosystem-2021/rust/#Rust_what-profiling-tools-do-you-use-for-rust">The story for profiling support is similar.</a>
It should be noted, that Rust integrates well with existing tools like <a href="https://blog.logrocket.com/debugging-rust-apps-with-gdb/">GDB</a> or
perf, although <a href="https://github.com/rust-lang/rustup/issues/2838">the experience is not seamless on all platforms yet</a>.
For an up-to-date overview, see this list of <a href="https://nnethercote.github.io/perf-book/profiling.html">Rust profiling tools</a>.</p>
<p>Recently, <a href="https://www.jetbrains.com/rust/">JetBrains announced RustRover</a>,
a new IDE for Rust which is based on IntelliJ.
This is a strong signal that JetBrains sees it as a good investment to build
tooling for Rust developers and that they expect Rust to become more mainstream.</p>
<h3 id="learning-curve">Learning Curve</h3>
<p>Rust has a famously steep learning curve. It is a complex language with many
advanced features. </p>
<p>When asked why they don't use Rust, participants of the <a href="https://blog.rust-lang.org/2023/08/07/Rust-Survey-2023-Results.html#rust-usage">2022 Annual Rust Survey</a>
mentioned the learning curve as the main reason:</p>
<img src="/why-rust/why-not-rust.svg" class="invert" alt="Why not Rust?">
<p>In the <a href="https://blog.rust-lang.org/2020/12/16/rust-survey-2020.html#improved-learnability">Rust 2020
survey</a>,
participants were asked to rate the difficulty of various Rust concepts. Here
are the results:</p>
<img src="/why-rust/topic-difficulty-ratings.svg" class="invert" alt="Difficulty by topic">
<p>Lifetime annotations, ownership, and borrowing were mentioned as the most
difficult topics to grasp. In real-world applications, lifetimes
are less of an issue, however, as the compiler can often infer them through
<a href="https://doc.rust-lang.org/reference/lifetime-elision.html">lifetime elision</a>.
Ownership and borrowing however are crucial concepts in Rust that need to be 
understood to become proficient.</p>
<p>It is important to set clear expectations for your team when adopting Rust: Rust
is not a language that you can learn in a few days. It requires practice to internalize
the concepts around ownership and borrowing to become productive with it.</p>
<p>There is an upfront cost of learning the language and training your team with
the expectation that it will pay off in the long run.</p>
<p>The time to become productive with Rust varies. Google's experience suggests:</p>
<blockquote>
<p>Based on our studies, more than 2/3 of respondents are confident in
contributing to a Rust codebase within two months or less when learning Rust.
Further, a third of respondents become as productive using Rust as other
languages in two months or less. <strong>Within four months, that number increased to
over 50%.</strong> - <a href="https://opensource.googleblog.com/2023/06/rust-fact-vs-fiction-5-insights-from-googles-rust-journey-2022.html">Google</a></p>
</blockquote>
<p>Microsoft also shared a <a href="https://msrc.microsoft.com/blog/2020/04/the-safety-boat-kubernetes-and-rust/">similar experience</a>:</p>
<blockquote>
<p><strong>It takes several weeks of hard effort</strong> learning how to code properly in Rust
before the learning curve levels out. However, that hard effort up front pays
off in dividends due to the aforementioned safety features. We also noticed that
once developers are over that initial curve, they are able to contribute to code
just as easily as with any other language. Just be aware that there will be some
initial pain.</p>
</blockquote>
<p>Depending on your immediate needs, this might be a deal-breaker for your team.
Other languages like Go or Python have a much lower learning curve and are
a better fit for rapid prototyping.
<a href="https://mdwdotla.medium.com/using-rust-at-a-startup-a-cautionary-tale-42ab823d9454">Think twice before adopting it in a fast-paced startup
environment</a>
, particularly if your team doesn't include seasoned Rust developers.</p>
<blockquote>
<p>Assuming you're building a product in the right domain for Rust [...], even
then the answer is not clear-cut. [...] Development velocity and being able to
make rapid iterations is so important for an early stage startup that it
outweighs a lot of the benefits that Rust brings to the table. -
<a href="https://www.shuttle.rs/blog/2021/10/08/building-a-startup-with-rust">Christos Hadjiaslanis - Founder of Shuttle</a></p>
</blockquote>
<h3 id="compile-times">Compile Times</h3>
<p>Rust has a reputation for having long compile times. This is especially true for
large projects with many dependencies.</p>
<blockquote>
<p>Slow build speeds were by far the #1 reported challenge that developers have
when using Rust, with only a little more than 40% of respondents finding the
speed acceptable. - <a href="https://opensource.googleblog.com/2023/06/rust-fact-vs-fiction-5-insights-from-googles-rust-journey-2022.html">Google</a></p>
</blockquote>
<p>Rapid iteration is important for developers. Long compile times can be a
productivity killer. This is most noticeable for developers that are used to
languages like Go or Python, where the feedback loop is much faster.</p>
<p>Compile times are a known issue and the Rust team is <a href="https://nnethercote.github.io/2023/03/24/how-to-speed-up-the-rust-compiler-in-march-2023.html">continously working on improving them</a>.
And these incremental improvements are paying off. The Rust compiler is getting
faster over time. For example, the Rust compiler is twice as fast than it was in
2018 for <code>cargo check</code> (which is the most common command to quickly check
for errors):</p>
<img src="/why-rust/compile-times.svg" class="invert" alt="Rust Compile Times Over Time">
<p>Very recently, the Rust compiler frontend also gained support for <a href="https://blog.rust-lang.org/2023/11/09/parallel-rustc.html">parallel
compilation</a>, which
could drastically reduce compile times for large projects. The feature is
currently in <em>nightly</em> only and highly experimental, but it promises speedups
of up to 50%. Details on how to test it can be found in the announcement
<a href="https://blog.rust-lang.org/2023/11/09/parallel-rustc.html">blog post</a>.</p>
<p>For more advice on how to improve compile times, see <a href="/blog/tips-for-faster-rust-compile-times/">my article on this
topic</a> with many practical tips.
For medium-sized projects, compile times are less of an issue. <a href="https://www.reddit.com/r/rust/comments/qgi421/doing_m1_macbook_pro_m1_max_64gb_compile/">Modern hardware
can also mitigate the issue to some
extent.</a></p>
<h2 id="conclusion">Conclusion</h2>
<p>Rust is a great language for building large-scale, reliable, and stable
applications. It is a good fit for companies that value productivity and
developer happiness and see it as a long-term investment.</p>
<p>On the other side, Rust is still a young language and the ecosystem is still
maturing. It has a steep learning curve and long compile times.</p>
<p>These challenges are not insurmountable, however. They require a commitment to
Rust and a willingness to invest in training and tooling.</p>
<p>Navigating the decision to integrate Rust into your technology stack is pivotal
and requires thoughtful consideration. Should you find yourself weighing its
benefits against your specific requirements, professional guidance can prove
invaluable. Equally, if you are ready to embrace Rust and are seeking expertise
in training or consulting to ensure a smooth transition, specialized support is
essential.</p>
<p><a href="/about/">Get in touch</a> to explore if Rust is the right choice for your
organization and how it can contribute to your long-term success. </p>
<div class="info">
  
  <div class="info-header">
    
      <i class="icon icon-radio"></i>
    
    <h4><p>Rust in Production Podcast</p>
</h4>
  </div>
  
  <p>Real-world experiences are the best way to learn about the benefits and
challenges of a technology. That's why we started <a href="/podcast">Rust in Production</a>, a
podcast about companies that bet big on Rust.</p>
<p>Listen to the first-hand accounts from decision-makers about why they chose Rust and how it
impacted their business.
Each episode is a deep dive into the motivations, challenges, and lessons learned
from adopting Rust in production by companies that shape the future of infrastructure.</p>
<p><a href="/podcast">More information here</a>.</p>

</div>
<h2 id="further-reading">Further Reading</h2>
<ul>
<li><a href="https://opensource.googleblog.com/2023/06/rust-fact-vs-fiction-5-insights-from-googles-rust-journey-2022.html" target="_blank">Rust Fact vs. Fiction: 5 Insights from Google’s Rust Journey</a></li>
<li><a href="https://survey.stackoverflow.co/" target="_blank">StackOverflow Developer Surveys</a></li>
<li><a href="https://blog.rust-lang.org/2023/08/07/Rust-Survey-2023-Results.html" target="_blank">Annual Rust Survey Results</a></li>
<li><a href="https://kerkour.com/rust-in-production-2021" target="_blank">Quotes of companies using Rust in production (2021)</a></li>
<li><a href="https://www.youtube.com/watch?v=DnT-LUQgc7s" target="_blank">Considering Rust — a talk by Jon Gjengset, 2020 (YouTube link)</a></li>
<li><a href="https://www.youtube.com/watch?v=GCsxYAxw3JQ" target="_blank">How I Convinced the World's Largest Package Manager to Use Rust, and So Can You! — a talk by Ashley Williams, 2017 (YouTube link)</a></li>
</ul>
<hr />
<small>
Last updated: 4 Dec 2023.
Title image adapted from
<a href="https://www.freepik.com/free-vector/metallurgical-industry-company-isometric-vector-web-banner-with-pouring-molten-metal-from-steel-ladl_4015233.htm#page=2&query=rust%20in%20production&position=28&from_view=search&track=ais" target="_blank" rel="noopener noreferrer">vectorpouch</a> on Freepik.
</small>
</div>
  </article>

            </main>
            
            <footer class="footer">
                <span>© 2024 corrode &mdash; D&uuml;sseldorf, Germany</span>
                &middot;
                <span><a href="/legal">Legal Notice</a></span>
                &middot;
                <span><a href="/quote">Business Inquiries</a></span>
            </footer>
            
        </div>
        <script>
            function getPreferredColorScheme() {
                let systemScheme = 'light';
                if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
                    systemScheme = 'dark';
                }
                let chosenScheme = systemScheme;

                if (localStorage.getItem("scheme")) {
                    chosenScheme = localStorage.getItem("scheme");
                }

                if (systemScheme === chosenScheme) {
                    localStorage.removeItem("scheme");
                }

                return chosenScheme;
            }

            function savePreferredColorScheme(scheme) {
                let systemScheme = 'light';

                if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
                    systemScheme = 'dark';
                }

                if (systemScheme === scheme) {
                    localStorage.removeItem("scheme");
                }
                else {
                    localStorage.setItem("scheme", scheme);
                }
            }

            function toggleColorScheme() {
                let newScheme = "light";
                let scheme = getPreferredColorScheme();
                if (scheme === "light") {
                    newScheme = "dark";
                }

                applyPreferredColorScheme(newScheme);
                savePreferredColorScheme(newScheme);
            }

            function applyPreferredColorScheme(scheme) {
                for (var s = 0; s < document.styleSheets.length; s++) {
                    try {
                        var rules = document.styleSheets[s].cssRules;
                        for (var i = 0; i < rules.length; i++) {
                            var rule = rules[i];
                            if (rule && rule.media && rule.media.mediaText.includes("prefers-color-scheme")) {
                                switch (scheme) {
                                    case "light":
                                        rule.media.appendMedium("original-prefers-color-scheme");
                                        if (rule.media.mediaText.includes("light")) rule.media.deleteMedium("(prefers-color-scheme: light)");
                                        if (rule.media.mediaText.includes("dark")) rule.media.deleteMedium("(prefers-color-scheme: dark)");
                                        break;
                                    case "dark":
                                        rule.media.appendMedium("(prefers-color-scheme: light)");
                                        rule.media.appendMedium("(prefers-color-scheme: dark)");
                                        if (rule.media.mediaText.includes("original")) rule.media.deleteMedium("original-prefers-color-scheme");
                                        break;
                                    default:
                                        rule.media.appendMedium("(prefers-color-scheme: dark)");
                                        if (rule.media.mediaText.includes("light")) rule.media.deleteMedium("(prefers-color-scheme: light)");
                                        if (rule.media.mediaText.includes("original")) rule.media.deleteMedium("original-prefers-color-scheme");
                                        break;
                                }
                            }
                        }
                    } catch (e) {
                        // Ignore third-party stylesheets
                    }
                }

                if (scheme === "dark") {
                    document.getElementById("icon-moon").style.display = 'inline';
                    document.getElementById("icon-sun").style.display = 'none';
                } else {
                    document.getElementById("icon-sun").style.display = 'inline';
                    document.getElementById("icon-moon").style.display = 'none';
                }
            }

            applyPreferredColorScheme(getPreferredColorScheme());
        </script>
    </body>
</html>
